# This file is auto-generated by openmediavault (https://www.openmediavault.org)
# WARNING: Do not edit this file, your changes will get lost.

# jellyfin
# 
version: '3.5'
services:
  jellyfin:
    image: jellyfin/jellyfin:unstable
    container_name: jellyfin
    user: ${PUID}:${PGID}
    #ports: 
    #  - 8096:8096 # http
    #  - 8920:8920 # https
    #  - 7359:7359/udp # allows clients to find jellyfin server on the local network
    #  - 1901:1900/udp # dlna
    volumes:
      - ./config:/config
      - ./cache:/cache
      - /srv/mergerfs/NAS/Media/Series:/Series
      - /srv/mergerfs/NAS/Media/Music:/Music
      - /srv/mergerfs/NAS/Media/Movies:/Movies
      - /srv/mergerfs/NAS/Media/Meditations:/Meditations
      - /srv/mergerfs/NAS/Media/Compilations:/Compilations
      - /srv/mergerfs/NAS/Media/Videokurse:/Videokurse
    restart: 'unless-stopped'
    extra_hosts:
      - "host.docker.internal:host-gateway"
    labels:
      - "com.centurylinklabs.watchtower.enable=true"
    group_add:
      - "106" # Change this to match your "render" host group id and remove this comment
      - "44" # Change this to match your "video" host group id and remove this comment
    devices:
      - /dev/dri/renderD128:/dev/dri/renderD128
    env_file: jellyfin.env
    networks:
      swag:
networks:
  swag:
    external: true

